"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[371],{7723:function(e,t,s){s.d(t,{$g:function(){return l},Bk:function(){return x},IH:function(){return n},Ip:function(){return d},Qc:function(){return c},pH:function(){return i},w6:function(){return r}}),s(5355);var a=s(3472),r=(0,a.$)("835ec64ccae7930043818c24f422beb902ac9d78"),i=(0,a.$)("a83cafce4865bcea7adfb375bae692f6cb61af35"),l=(0,a.$)("defd6a130648ded6c12e094a7abfe2a206ba3421"),d=(0,a.$)("6727771b2df0b010539eaed6952ef9332cfce98a"),n=(0,a.$)("335416c852e4351f6b071da0c449797609cd3529"),c=(0,a.$)("35c11c197751039da8f79a890078abb74d092a65"),x=(0,a.$)("91099f875fa14361579487b40c54bb06a8dc24eb")},6371:function(e,t,s){var a=s(3827),r=s(4090),i=s(7723),l=s(1652),d=s(3879),n=s(2071),c=s(8798),x=s(4059),o=s(7404),m=s(9733),h=s(6227),b=s(5032),g=s(9325),p=s(3236),u=s(8670),j=s(699),f=s(6570),y=s(4691);t.Z=e=>{let{onBack:t}=e,[s,v]=(0,r.useState)(!1),[N,w]=(0,r.useState)(""),[k,z]=(0,r.useState)(!1),[C,D]=(0,r.useState)("overview"),[Z,S]=(0,r.useState)([]),[_,U]=(0,r.useState)(null),[A,E]=(0,r.useState)(""),[M,T]=(0,r.useState)(null),[$,G]=(0,r.useState)(1),L=async e=>{e.preventDefault(),z(!0),(await (0,i.$g)(N)).success?(v(!0),I()):alert("Invalid Admin Password"),z(!1)},I=async()=>{z(!0);let[e,t]=await Promise.all([(0,i.Qc)(),(0,i.IH)()]);S(e),U(t),z(!1)},B=async(e,t)=>{await (0,i.w6)(e,!t),I()},H=async e=>{await (0,i.Bk)(e,$),T(null),I()};if(!s)return(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full bg-ios-bg dark:bg-black p-6 animate-fade-in",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-[#1C1C1E] p-8 rounded-3xl shadow-xl w-full max-w-sm text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-900 text-white rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,a.jsx)(l.Z,{size:32})}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Admin Access"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6 text-sm",children:"Enter secure credentials to proceed."}),(0,a.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,a.jsx)("input",{type:"password",value:N,onChange:e=>w(e.target.value),className:"w-full p-4 bg-gray-100 dark:bg-zinc-800 rounded-xl outline-none focus:ring-2 ring-gray-900 dark:text-white",placeholder:"Admin Password"}),(0,a.jsx)("button",{type:"submit",disabled:k,className:"w-full bg-gray-900 dark:bg-white text-white dark:text-black font-bold py-4 rounded-xl",children:k?(0,a.jsx)(y.Z,{size:"sm",color:"text-current"}):"Unlock Dashboard"})]}),(0,a.jsx)("button",{onClick:t,className:"mt-6 text-sm text-gray-500 hover:underline",children:"Return to App"})]})});let P=Z.filter(e=>e.name.toLowerCase().includes(A.toLowerCase()));return(0,a.jsxs)("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-black animate-fade-in",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-[#1C1C1E] border-b border-gray-200 dark:border-zinc-800 px-6 py-4 flex items-center justify-between sticky top-0 z-20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:t,className:"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-full transition-colors dark:text-white",children:(0,a.jsx)(d.Z,{size:20})}),(0,a.jsx)("h1",{className:"text-xl font-bold dark:text-white",children:"Admin Console"})]}),(0,a.jsxs)("div",{className:"flex bg-gray-100 dark:bg-zinc-800 p-1 rounded-lg",children:[(0,a.jsx)("button",{onClick:()=>D("overview"),className:"px-4 py-1.5 rounded-md text-sm font-medium transition-all ".concat("overview"===C?"bg-white dark:bg-zinc-600 shadow-sm dark:text-white":"text-gray-500"),children:"Overview"}),(0,a.jsx)("button",{onClick:()=>D("users"),className:"px-4 py-1.5 rounded-md text-sm font-medium transition-all ".concat("users"===C?"bg-white dark:bg-zinc-600 shadow-sm dark:text-white":"text-gray-500"),children:"Users"})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["overview"===C&&_&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,a.jsx)(n.Z,{size:24,className:"text-ios-teal"}),"System Intelligence Report"]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Real-time analytics & performance metrics"})]}),(0,a.jsx)("button",{onClick:()=>I(),className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-full transition-colors",children:(0,a.jsx)(c.Z,{size:20,className:"text-gray-600 dark:text-gray-400 hover:text-ios-teal transit-colors"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 via-blue-600 to-cyan-600 p-6 rounded-3xl text-white shadow-xl hover:shadow-2xl transition-all border border-white/20",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 opacity-90 mb-1",children:[(0,a.jsx)(x.Z,{size:16}),(0,a.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Active Users"})]}),(0,a.jsx)("p",{className:"text-4xl font-bold mt-1",children:_.totalUsers}),(0,a.jsxs)("p",{className:"text-xs opacity-75 mt-1",children:["+",Math.floor(5*Math.random())," new this week"]})]}),(0,a.jsx)("div",{className:"text-3xl opacity-30",children:"\uD83D\uDC65"})]}),(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-white/20",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium opacity-90",children:[(0,a.jsx)(o.Z,{size:12})," Growing community"]})})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 via-purple-600 to-pink-600 p-6 rounded-3xl text-white shadow-xl hover:shadow-2xl transition-all border border-white/20",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 opacity-90 mb-1",children:[(0,a.jsx)(m.Z,{size:16}),(0,a.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Total Flyers"})]}),(0,a.jsx)("p",{className:"text-4xl font-bold mt-1",children:_.totalGenerations}),(0,a.jsx)("p",{className:"text-xs opacity-75 mt-1",children:"Spiritual reflections created"})]}),(0,a.jsx)("div",{className:"text-3xl opacity-30",children:"âœ¨"})]}),(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-white/20",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium opacity-90",children:[(0,a.jsx)(h.Z,{size:12})," Collections shared"]})})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-500 via-emerald-600 to-teal-600 p-6 rounded-3xl text-white shadow-xl hover:shadow-2xl transition-all border border-white/20",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 opacity-90 mb-1",children:[(0,a.jsx)(b.Z,{size:16}),(0,a.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Active Today"})]}),(0,a.jsx)("p",{className:"text-4xl font-bold mt-1",children:_.activeToday}),(0,a.jsxs)("p",{className:"text-xs opacity-75 mt-1",children:[Math.round(_.activeToday/Math.max(_.totalUsers,1)*100),"% engagement rate"]})]}),(0,a.jsx)("div",{className:"text-3xl opacity-30",children:"\uD83D\uDD25"})]}),(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-white/20",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium opacity-90",children:[(0,a.jsx)(o.Z,{size:12})," Daily active usage"]})})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-red-500 via-orange-600 to-red-700 p-6 rounded-3xl text-white shadow-xl hover:shadow-2xl transition-all border border-white/20",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 opacity-90 mb-1",children:[(0,a.jsx)(g.Z,{size:16}),(0,a.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Account Status"})]}),(0,a.jsx)("p",{className:"text-4xl font-bold mt-1",children:_.bannedUsers}),(0,a.jsxs)("p",{className:"text-xs opacity-75 mt-1",children:["Suspended ",_.bannedUsers>0?"account(s)":"account"]})]}),(0,a.jsx)("div",{className:"text-3xl opacity-30",children:"\uD83D\uDEAB"})]}),(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-white/20",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs font-medium opacity-90",children:[(0,a.jsx)(p.Z,{size:12})," 99.5% healthy"]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 bg-white dark:bg-[#1C1C1E] rounded-2xl p-4 border border-gray-100 dark:border-zinc-800 shadow-sm",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 uppercase font-bold mb-1",children:"Avg Gens/User"}),(0,a.jsx)("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:Math.round(_.totalGenerations/Math.max(_.totalUsers,1))})]}),(0,a.jsxs)("div",{className:"text-center border-l border-r border-gray-200 dark:border-zinc-700",children:[(0,a.jsx)("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 uppercase font-bold mb-1",children:"Engagement %"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-ios-teal",children:[Math.round(_.activeToday/Math.max(_.totalUsers,1)*100),"%"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 uppercase font-bold mb-1",children:"Health Score"}),(0,a.jsx)("p",{className:"text-xl font-bold text-green-600",children:"100/100"})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-[#1C1C1E] rounded-2xl border border-gray-100 dark:border-zinc-800 overflow-hidden shadow-sm",children:[(0,a.jsxs)("div",{className:"p-5 border-b border-gray-100 dark:border-zinc-800 bg-gradient-to-r from-gray-50 to-white dark:from-zinc-800 dark:to-[#1C1C1E]",children:[(0,a.jsxs)("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,a.jsx)(b.Z,{size:18,className:"text-ios-teal"}),"Live Generation Feed"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Last 10 reflections created"})]}),(0,a.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-zinc-800 max-h-96 overflow-y-auto",children:_.recentGenerations&&_.recentGenerations.length>0?_.recentGenerations.map((e,t)=>(0,a.jsxs)("div",{className:"p-4 flex items-start justify-between hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-ios-teal to-cyan-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:t+1}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:e.user_name}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:["\uD83D\uDCD6 Topic: ",(0,a.jsxs)("span",{className:"font-medium text-ios-teal",children:['"',e.topic,'"']})]})]})]}),(0,a.jsxs)("div",{className:"text-right flex-shrink-0 ml-4",children:[(0,a.jsx)("span",{className:"text-[10px] text-gray-500 dark:text-gray-500 font-mono",children:new Date(e.created_at).toLocaleTimeString()}),(0,a.jsx)("p",{className:"text-[9px] text-gray-400 mt-1",children:new Date(e.created_at).toLocaleDateString()})]})]},e.id)):(0,a.jsx)("div",{className:"p-8 text-center",children:(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No recent activity"})})})]})]}),"users"===C&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,a.jsx)(x.Z,{size:24,className:"text-ios-teal"}),"User Management"]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Manage user accounts, limits, and permissions"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,a.jsx)("input",{type:"text",placeholder:"Search users by name...",value:A,onChange:e=>E(e.target.value),className:"w-full bg-white dark:bg-[#1C1C1E] pl-12 pr-4 py-3 rounded-xl border border-gray-200 dark:border-zinc-800 outline-none focus:ring-2 ring-ios-blue dark:text-white transition-all"})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-[#1C1C1E] rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800 overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,a.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-white dark:from-zinc-800/50 dark:to-[#1C1C1E] text-xs uppercase text-gray-600 dark:text-gray-400 font-bold border-b border-gray-100 dark:border-zinc-800",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-4",children:"User"}),(0,a.jsx)("th",{className:"p-4",children:"Performance"}),(0,a.jsx)("th",{className:"p-4",children:"Daily Limit"}),(0,a.jsx)("th",{className:"p-4 text-right",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-zinc-800",children:P.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-zinc-800/30 transition-colors group",children:[(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-ios-teal to-cyan-500 flex items-center justify-center text-white text-sm font-bold",children:e.name.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-gray-900 dark:text-white",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ...",e.id.slice(-6)]})]})]})}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:["\uD83D\uDD25 ",e.streak]}),(0,a.jsx)("span",{className:"text-[10px] text-gray-500",children:"day streak"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Total: ",e.generation_count]}),(0,a.jsx)("div",{className:"w-20 h-1 bg-gray-200 dark:bg-zinc-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-ios-teal to-cyan-500",style:{width:"".concat(Math.min(e.generation_count/50*100,100),"%")}})})]})]})}),(0,a.jsx)("td",{className:"p-4",children:M===e.id?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"number",value:$,onChange:e=>G(parseInt(e.target.value)),className:"w-16 p-2 bg-gray-100 dark:bg-zinc-700 rounded border border-gray-300 dark:border-zinc-600 text-sm dark:text-white font-bold"}),(0,a.jsx)("button",{onClick:()=>H(e.id),className:"text-green-600 dark:text-green-400 hover:scale-110 transition-transform",children:(0,a.jsx)(j.Z,{size:18})})]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"font-mono bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 text-blue-600 dark:text-blue-400 px-3 py-1 rounded-lg text-sm font-bold",children:[e.rate_limit_override||1," gen/day"]}),(0,a.jsx)("button",{onClick:()=>{T(e.id),G(e.rate_limit_override||1)},className:"text-gray-400 hover:text-blue-500 hover:scale-110 transition-all opacity-0 group-hover:opacity-100",children:(0,a.jsx)(f.Z,{size:16})})]})}),(0,a.jsx)("td",{className:"p-4 text-right",children:(0,a.jsx)("button",{onClick:()=>B(e.id,e.is_banned),className:"px-3 py-2 rounded-lg font-medium text-sm transition-all ".concat(e.is_banned?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 hover:bg-red-200":"text-gray-600 dark:text-gray-400 hover:bg-red-100 dark:hover:bg-red-900/30 hover:text-red-600"),children:e.is_banned?"Unban":"Ban"})})]},e.id))})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 bg-gray-50 dark:bg-zinc-800/30 rounded-xl p-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 uppercase font-bold mb-1",children:"Total Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:P.length})]}),(0,a.jsxs)("div",{className:"border-l border-r border-gray-200 dark:border-zinc-700 px-4",children:[(0,a.jsx)("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 uppercase font-bold mb-1",children:"Active"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-ios-teal",children:P.filter(e=>!e.is_banned).length})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 uppercase font-bold mb-1",children:"Banned"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600",children:P.filter(e=>e.is_banned).length})]})]})]})]})]})}},4691:function(e,t,s){var a=s(3827);s(4090);var r=s(8994);t.Z=e=>{let{size:t="md",color:s="text-primary-600",label:i}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,a.jsx)(r.Z,{className:"animate-spin ".concat({sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16"}[t]," ").concat(s),"aria-label":"Loading"}),i&&(0,a.jsx)("span",{className:"text-sm font-medium text-gray-500 animate-pulse",children:i})]})}}}]);